@import url('tokens/Fonts.tokens.css');
@import url('tokens/Grid.tokens.css');
@import url('tokens/Type.tokens.css');
@import url('tokens/Border.tokens.css');
@import url('tokens/Color.tokens.css');
@import url('tokens/layout/Container.tokens.css');
@import url('tokens/layout/Section.tokens.css');
@import url('tokens/layout/Columns.tokens.css');


:root {
  --background: #ffffff;
  --foreground: #0E002D;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
}

* {
  box-sizing: border-box;
  /* outline: 1px solid lime; */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased
}

html {
  /* Better scroll performance */
  overflow-x: hidden;
  overflow-y: scroll;
  width: 100%;
}

body {
  font-family: var(--font_face-sans);
  margin: 0;
  width: 100%;
}

/* Initial page load cover - ensures page is covered before React hydrates */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: white;
  z-index: 10000;
  pointer-events: none;
  /* Fade out will be controlled by JavaScript - keep visible initially */
}

body.loaded::before {
  animation: initialCoverFadeOut 0.01s ease-out forwards;
}

@keyframes initialCoverFadeOut {
  to {
    opacity: 0;
    visibility: hidden;
  }
}

main {
  margin-top: var(--grid-spacing-2);
  padding-block-end: var(--grid-spacing-2);
}

.font-mono {
  font-family: var(--font_face-mono);
}

section {
  width: 100%;
  align-items: center;
  padding-block: var(--grid-spacing-1);
}

.container {
  /* Container adjusts to leave equal whole columns on each side when centered */
  /* Target: 28 content columns + padding, but adjust width to ensure equal margins */

  /* Get padding in columns (always whole number: 2 or 4) */
  --padding-cols: calc(var(--layout_container--padding) * 2 / var(--grid-size));

  /* Calculate ideal container width (28 content + padding) */
  --ideal-container-cols: calc(28 + var(--padding-cols));

  /* Calculate total viewport columns from --grid-cols (set by HeroBackground) */
  --remaining-cols: calc(var(--grid-cols) - var(--ideal-container-cols));

  /* If remaining is odd, add 1 to container for equal margins */
  --should-add-col: mod(max(0, var(--remaining-cols)), 2);

  /* Actual container width in columns */
  --actual-container-cols: calc(var(--ideal-container-cols) + var(--should-add-col));

  /* Clamp to viewport if smaller than ideal */
  --final-container-cols: min(var(--grid-cols), var(--actual-container-cols));

  /* Content area columns (excluding padding) */
  --container-content-cols: calc(var(--final-container-cols) - var(--padding-cols));

  /* Set width and center with equal margins */
  width: calc(var(--final-container-cols) * var(--grid-size));
  padding-inline: var(--layout_container--padding);
  margin-inline: calc((var(--grid-cols) - var(--final-container-cols)) * var(--grid-size) / 2);
}

/* Background - global fixed background grid */
.background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -100;
}

/* ===========================================
   GLOBAL FLUID TYPOGRAPHY
   Applied to all semantic HTML elements
   =========================================== */

/* Headings - automatically responsive */
h1 {
  font-size: var(--font_heading-1--size);
  line-height: var(--font_heading-1--line-height);
  letter-spacing: var(--font_heading-1--letter-spacing);
  font-weight: var(--font_heading-1--weight);
}

h2 {
  font-size: var(--font_heading-2--size);
  line-height: var(--font_heading-2--line-height);
  letter-spacing: var(--font_heading-2--letter-spacing);
  font-weight: var(--font_heading-2--weight);
}

h3 {
  font-size: var(--font_heading-3--size);
  line-height: var(--font_heading-3--line-height);
  letter-spacing: var(--font_heading-3--letter-spacing);
  font-weight: var(--font_heading-3--weight);
}

h4 {
  font-size: var(--font_heading-4--size);
  line-height: var(--font_heading-4--line-height);
  letter-spacing: var(--font_heading-4--letter-spacing);
  font-weight: var(--font_heading-4--weight);
}

/* Paragraphs - automatically responsive */
p,
ul,
ol {
  font-size: var(--font_body--size);
  line-height: var(--font_body--line-height);
  letter-spacing: var(--font_body--letter-spacing);
  font-weight: var(--font_body--weight);
}

p.large,
ul.large,
ol.large {
  font-size: var(--font_body-large--size);
  line-height: var(--font_body-large--line-height);
  letter-spacing: var(--font_body-large--letter-spacing);
  font-weight: var(--font_body-large--weight);
}


@media (max-width: 675px) {
  main {
    margin-top: var(--grid-spacing-3);
    padding-block-end: var(--grid-spacing-2);
  }

  section {
    padding-block: calc(var(--grid-spacing-1));
  }

  .container {
    /* Reduce padding on mobile for more content space */
    --layout_container--padding: calc(var(--grid-size) * 1);
  }
  
}